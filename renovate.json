{
  "extends": [
    "config:recommended",
    "group:springBoot"
  ],
  "timezone": "Asia/Tokyo",
  "labels": ["dependencies"],
  "schedule": ["every weekend"],
  "prConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "separateMinorPatch": true,
  "major": {
    "minimumReleaseAge": "7 days"
  },
  "minor": {
    "minimumReleaseAge": "3 days"
  },
  "patch": {
    "minimumReleaseAge": "2 days"
  },
  "packageRules": [
    {
      "groupName": "Spring Framework",
      "matchPackageNames": [
        "org.springframework.boot:**",
        "org.springframework.cloud:**",
        "org.springframework.grpc:**",
        "io.awspring.cloud:**"
      ],
      "minimumReleaseAge": "7 days"
    },
    {
      "groupName": "gRPC and Protobuf",
      "description": "gRPC and Protobuf must be updated together. Keep protobuf 3.x for gRPC compatibility.",
      "matchPackageNames": [
        "io.grpc:**",
        "net.devh:**"
      ],
      "minimumReleaseAge": "5 days"
    },
    {
      "description": "Keep Protobuf 3.x for gRPC 1.x compatibility, do not update to 4.x",
      "matchPackageNames": ["com.google.protobuf:**"],
      "allowedVersions": "< 4.0.0",
      "minimumReleaseAge": "5 days"
    },
    {
      "groupName": "OpenTelemetry",
      "description": "Alpha versions may have breaking changes",
      "matchPackageNames": ["io.opentelemetry:**"],
      "minimumReleaseAge": "10 days"
    },
    {
      "groupName": "Micrometer",
      "matchPackageNames": ["io.micrometer:**"],
      "minimumReleaseAge": "5 days"
    },
    {
      "groupName": "Testing",
      "matchPackageNames": [
        "io.karatelabs:**",
        "com.tngtech.archunit:**",
        "net.masterthought:**"
      ],
      "minimumReleaseAge": "2 days"
    },
    {
      "groupName": "Jakarta APIs",
      "matchPackageNames": ["jakarta.annotation:**"],
      "minimumReleaseAge": "3 days"
    },
    {
      "groupName": "Documentation",
      "matchPackageNames": ["io.github.pseudomuto:**"],
      "minimumReleaseAge": "3 days"
    },
    {
      "groupName": "Gradle Plugins",
      "matchPackageNames": [
        "com.diffplug.spotless:**",
        "org.dddjava.jig-gradle-plugin:**"
      ],
      "matchCategories": ["gradle"],
      "minimumReleaseAge": "2 days"
    },
    {
      "description": "Gradle Wrapper updates",
      "matchManagers": ["gradle-wrapper"],
      "minimumReleaseAge": "5 days"
    }
  ]
}
